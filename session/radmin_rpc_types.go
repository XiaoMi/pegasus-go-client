// Code generated by "generator -i=radmin.csv > radmin_rpc_types.go"; DO NOT EDIT.
package session

import (
	"context"
	"fmt"

	"github.com/XiaoMi/pegasus-go-client/idl/base"
	"github.com/XiaoMi/pegasus-go-client/idl/radmin"
)

// QueryDiskInfo is auto-generated
func (rs *ReplicaSession) QueryDiskInfo(ctx context.Context, req *radmin.QueryDiskInfoRequest) (*radmin.QueryDiskInfoResponse, error) {
	arg := radmin.NewReplicaClientQueryDiskInfoArgs()
	arg.Req = req
	result, err := rs.CallWithGpid(ctx, &base.Gpid{Appid: 0, PartitionIndex: 0}, arg, "RPC_QUERY_DISK_INFO")
	if err != nil {
		return nil, fmt.Errorf("RPC to session %s failed: %s", rs, err)
	}
	ret, _ := result.(*radmin.ReplicaClientQueryDiskInfoResult)
	return ret.GetSuccess(), nil
}

// DiskMigrate is auto-generated
func (rs *ReplicaSession) DiskMigrate(ctx context.Context, req *radmin.ReplicaDiskMigrateRequest) (*radmin.ReplicaDiskMigrateResponse, error) {
	arg := radmin.NewReplicaClientDiskMigrateArgs()
	arg.Req = req
	result, err := rs.CallWithGpid(ctx, &base.Gpid{Appid: 0, PartitionIndex: 0}, arg, "RPC_REPLICA_DISK_MIGRATE")
	if err != nil {
		return nil, fmt.Errorf("RPC to session %s failed: %s", rs, err)
	}
	ret, _ := result.(*radmin.ReplicaClientDiskMigrateResult)
	return ret.GetSuccess(), nil
}
